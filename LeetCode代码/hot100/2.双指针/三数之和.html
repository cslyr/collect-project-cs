<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function threeSum(nums) {
        nums.sort((a, b) => a - b); // 步骤1: 对数组进行排序  从小到大进行排序  sort会改变原来的数组
        const result = [];
        const n = nums.length;

        for (let i = 0; i < n; i++) {
          // 如果当前数字大于0，则三数之和不可能等于0
          if (nums[i] > 0) { //注意点1.首先题目要求的是索引不能一样，最终数组不能一样，但没说数组当中的两个值一样
            break;
          }
          // 跳过重复元素
          /*
            考虑一个已排序的数组 [-1, -1, 0, 1, 1]，我们要找到所有和为 0 的不重复三元组。
            当第一个元素为 -1（索引 0）时，可能找到一个有效的三元组 [-1, 0, 1]。
            但是，数组中下一个元素（索引 1）也是 -1。如果不检查并跳过这种重复情况，我们会再次以 -1（这次是索引 1的那个）作为起点，
          */
          if (i > 0 && nums[i] === nums[i - 1]) {//i>0是为了防止i-1<0
            continue;
          }

          let left = i + 1;
          let right = n - 1;

          while (left < right) {
            const sum = nums[i] + nums[left] + nums[right];
            if (sum < 0) {
              left++;
            } else if (sum > 0) {
              right--;
            } else {
              result.push([nums[i], nums[left], nums[right]]);
              // 跳过所有重复的left和right
              while (left < right && nums[left] === nums[left + 1]) {
                left++;
              }
              while (left < right && nums[right] === nums[right - 1]) {
                right--;
              }
              left++;//成功之后记得值++
              right--;
            }
          }
        }
        return result;
      }

     
    </script>
  </body>
</html>
