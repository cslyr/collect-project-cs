<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let diameterOfBinaryTree = function (root) {
        let diameter = 0;

        function depth(node) {
          if (!node) return 0; // 如果节点不存在，深度为0

          let leftDepth = depth(node.left); // 计算左子树的深度
          let rightDepth = depth(node.right); // 计算右子树的深度

          // 更新直径：直径是通过这个节点的最长路径，即左深度+右深度
          diameter = Math.max(diameter, leftDepth + rightDepth);

          // 返回节点的最大深度，供父节点计算直径使用
          return Math.max(leftDepth, rightDepth) + 1;
        }

        depth(root); // 从根节点开始递归计算深度，并更新直径
        return diameter;
      };
    </script>
  </body>
</html>
